.form-control {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

.input-wrapper {
  position: relative;
  width: 100%;
}

.form-control input {
  width: 100%;
  border: 1px solid var(--color-gray-100);
  border-radius: 8px;
  box-shadow: var(--shadow-sm);
  padding: 14px 40px 14px 16px; /* Right padding for icon */
  font-size: var(--font-size-base);
  transition: all 0.2s ease;
  outline: none;
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.form-control input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 1px var(--color-primary-light);
}

/* Error State */
.form-control input.input-error {
  border-color: var(--color-danger);
}
.form-control input.input-error:focus {
  box-shadow: 0 0 0 1px var(--color-danger-light);
}

/* Success State */
.form-control input.input-success {
  border-color: var(--color-success);
}
.form-control input.input-success:focus {
  box-shadow: 0 0 0 1px var(--color-green-100); /* Lighter green shadow */
}

/* Warning State */
.form-control input.input-warning {
  border-color: var(--color-warning);
}
.form-control input.input-warning:focus {
  box-shadow: 0 0 0 1px #ffe5b4; /* Light orange */
}

/* Icon Positioning AND Styling */
.status-icon {
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  pointer-events: none;
}

.error-message {
  color: var(--color-danger);
  font-size: var(--font-size-sm);
  margin-top: 4px;
}

.warning-message {
  color: var(--color-warning);
  font-size: var(--font-size-sm);
  margin-top: 4px;
}

/* Password Toggle Button */
.toggle-password {
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-gray-500);
  z-index: 2; /* Ensure it's above input */
}

.toggle-password svg {
  width: 20px;
  height: 20px;
  stroke: var(--color-gray-500); /* Ensure icon color */
}

/* Adjustments for Password Field when Toggle is present */
.password-field input {
  padding-right: 45px; /* Space for eye icon */
}

/* If validation icon is ALSO present in password field, we need more space */
/* And we need to move the validation icon to the left of the eye icon */
.password-field .status-icon {
  right: 45px; /* Move validation icon left */
}

.password-field input.input-error,
.password-field input.input-success,
.password-field input.input-warning {
  padding-right: 75px; /* Space for eye + validation icon */
}

/* Prefix Icon (Left Side) */
.prefix-icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  pointer-events: none;
  z-index: 1;
}

.has-prefix-icon input {
  padding-left: 45px; /* Space for left icon */
}
